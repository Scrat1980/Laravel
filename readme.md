API-сервис авторизации.

Сервис служит для управления доступом пользователей и должен обрабатывать запросы на:
авторизацию зарегистрированных пользователей
приглашение новой организации
приглашение пользователя
активацию приглашенного пользователя

В запросе на авторизацию зарегистрированных пользователей должны быть переданы данные:
* логин (E-Mail)
* пароль
Если указанный пользователь не обнаружен или не активирован (отсутствует пароль), то сервер отправляет ответ с кодом 500. При успешной авторизации:
код 200,
jwt-токен пользователя,
id организации (может быть несколько),
id ролей пользователя внутри организации (может быть несколько).

В запросе на приглашение новой организации должны быть переданы данные:
E-Mail владельца организации (не уникальное значение)
название организации (уникальное значение)
В таблице Invitations должна появиться запись с E-Mail приглашенного и jwt-токеном приглашения. В таблице Users базы данных должна быть создана запись для приглашенного пользователя с ролью “владелец” (id роли владельца - 2). В таблице Companies должна быть создана запись для новой организации. При успешной обработке запроса сервис отправляет:
ответ с кодом 200,
jwt-токен приглашения пользователя

В запросе на приглашение пользователя должны быть переданы данные:
E-Mail приглашаемого пользователя (уникальное значение)
id ролей пользователя (может быть несколько из перечня: администратор организации - 3, пользователь организации - 4)
Если данного пользователя в БД еще нет, то в таблице Users создается новая запись с логином приглашенного пользователя, id организации владельца, id переданных ролей (может быть несколько). В таблице Invitations должна появиться запись с E-Mail приглашенного и jwt-токеном приглашения. Если пользователь в БД уже есть, то тогда ему добавляется новая организация и новые роли в этой организации.
В случае успешной обработки запроса сервер отправляет:
ответ с кодом 200;
jwt-токен приглашения пользователя

В запросе на активацию приглашенного пользователя должны быть переданы данные:
E-Mail приглашенного пользователя
Имя приглашенного пользователя
Фамилия приглашенного пользователя
пароль
jwt-токен приглашения пользователя
Если пользователь с таким E-Mail имеется в таблице Users и у него НЕ сохранен пароль, то:
переданный в запросе пароль сохраняется в БД
отправляется ответ с кодом 200.

По умолчанию должна быть создана организация (название: А-Кор)
и учетная запись с ролью администратора сервиса (логин - admin@admin.com, пароль admin, имя: Иван, фамилия: Иванов), привязанная к организации А-Кор. Валидация данных не обязательна. Срок жизни токенов 24 часа.

Список ролей:
администратор сервиса - 1
владелец организации - 2
администратор организации - 3
пользователь организации - 4.

Список таблиц БД:
Invitations,
Users,
Roles,
Companies,
Users_Companies,
Users_Companies_Roles.

API-сервис должен быть разработан на PHP (Laravel) и размещен на любом удобном хостинге. СУБД - PostgreSql. Запросы должны быть написаны на GraphQL и представлены в Postman или аналоге.

Порядок проверки сервиса в Postman:
авторизация администратора сервиса admin@admin.com
приглашение первой организации ivan.i@company1.ru
активация владельца ivan.i@company1.ru первой приглашенной организации
авторизация владельца первой организации
приглашение пользователя sergei.s@mail.ru первой организации
активация пользователя sergei.s@mail.ru
приглашение второй организации igor.i@company2.ru
активация владельца igor.i@company2.ru второй приглашенной организации
авторизация владельца второй организации
приглашение пользователя sergei.s@mail.ru  второй организации
авторизация пользователя sergei.s@mail.ru